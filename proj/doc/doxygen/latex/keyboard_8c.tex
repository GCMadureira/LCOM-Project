\doxysection{drivers/kbc/keyboard.c File Reference}
\hypertarget{keyboard_8c}{}\label{keyboard_8c}\index{drivers/kbc/keyboard.c@{drivers/kbc/keyboard.c}}


Source code file for all the logic to interact with the kbc\textquotesingle{}s keyboard.  


{\ttfamily \#include "{}keyboard.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
u\+\_\+int8\+\_\+t \mbox{\hyperlink{keyboard_8c_ae2d68748456de81a7ba9bc75bf7a9755}{keyboard\+\_\+get\+\_\+scancode}} ()
\begin{DoxyCompactList}\small\item\em Getter for the \doxylink{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f}{scancode} static variable. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{keyboard_8c_aad41bc56418fe6ef55da17d70e94d428}{keyboard\+\_\+subscribe\+\_\+int\+\_\+exclusive}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}bit\+\_\+no)
\begin{DoxyCompactList}\small\item\em Subscribes the keyboard interruptions with the payload on bit bit\+\_\+no. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{keyboard_8c_ac95aea27a5e91b363b876fed881f368f}{keyboard\+\_\+unsubscribe\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Unsubscribes the keyboard interruptions. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{keyboard_8c_a5bb8b15df304556ad4124c73579f6c15}{keyboard\+\_\+is\+\_\+breakcode}} (uint8\+\_\+t \mbox{\hyperlink{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f}{scancode}})
\begin{DoxyCompactList}\small\item\em Checks if the provided scancode is a breakcode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{keyboard_8c_ab9e6ed7960d60aa4834f2038247d4536}{kbc\+\_\+ih}} ()
\item 
int \mbox{\hyperlink{keyboard_8c_ae9ddd281a2f76fba3bd46afa183d7223}{keyboard\+\_\+reenable\+\_\+interrupts}} ()
\begin{DoxyCompactList}\small\item\em Reenable the keyboard interrupts if they were disabled. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{keyboard_8c_a74708534432e98d4ab30ba40e2e5dcc3}{kbd\+\_\+hook\+\_\+id}}
\begin{DoxyCompactList}\small\item\em The hook id to unsubscribe the keyboard interruptions. \end{DoxyCompactList}\item 
static uint8\+\_\+t \mbox{\hyperlink{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f}{scancode}} = 0
\begin{DoxyCompactList}\small\item\em The lastest scancode read. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Source code file for all the logic to interact with the kbc\textquotesingle{}s keyboard. 



Definition in file \mbox{\hyperlink{keyboard_8c_source}{keyboard.\+c}}.



\doxysubsection{Function Documentation}
\Hypertarget{keyboard_8c_ab9e6ed7960d60aa4834f2038247d4536}\index{keyboard.c@{keyboard.c}!kbc\_ih@{kbc\_ih}}
\index{kbc\_ih@{kbc\_ih}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{kbc\_ih()}{kbc\_ih()}}
{\footnotesize\ttfamily \label{keyboard_8c_ab9e6ed7960d60aa4834f2038247d4536} 
void kbc\+\_\+ih (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{keyboard_8c_source_l00030}{30}} of file \mbox{\hyperlink{keyboard_8c_source}{keyboard.\+c}}.

\Hypertarget{keyboard_8c_ae2d68748456de81a7ba9bc75bf7a9755}\index{keyboard.c@{keyboard.c}!keyboard\_get\_scancode@{keyboard\_get\_scancode}}
\index{keyboard\_get\_scancode@{keyboard\_get\_scancode}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{keyboard\_get\_scancode()}{keyboard\_get\_scancode()}}
{\footnotesize\ttfamily \label{keyboard_8c_ae2d68748456de81a7ba9bc75bf7a9755} 
u\+\_\+int8\+\_\+t keyboard\+\_\+get\+\_\+scancode (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Getter for the \doxylink{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f}{scancode} static variable. 

\begin{DoxyReturn}{Returns}
The latest scancode read 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keyboard_8c_source_l00013}{13}} of file \mbox{\hyperlink{keyboard_8c_source}{keyboard.\+c}}.

\Hypertarget{keyboard_8c_a5bb8b15df304556ad4124c73579f6c15}\index{keyboard.c@{keyboard.c}!keyboard\_is\_breakcode@{keyboard\_is\_breakcode}}
\index{keyboard\_is\_breakcode@{keyboard\_is\_breakcode}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{keyboard\_is\_breakcode()}{keyboard\_is\_breakcode()}}
{\footnotesize\ttfamily \label{keyboard_8c_a5bb8b15df304556ad4124c73579f6c15} 
bool keyboard\+\_\+is\+\_\+breakcode (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{scancode}{}\end{DoxyParamCaption})}



Checks if the provided scancode is a breakcode. 


\begin{DoxyParams}{Parameters}
{\em scancode} & The scancode to check \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the scancode is a breakcode, false if it is a makecode 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keyboard_8c_source_l00026}{26}} of file \mbox{\hyperlink{keyboard_8c_source}{keyboard.\+c}}.

\Hypertarget{keyboard_8c_ae9ddd281a2f76fba3bd46afa183d7223}\index{keyboard.c@{keyboard.c}!keyboard\_reenable\_interrupts@{keyboard\_reenable\_interrupts}}
\index{keyboard\_reenable\_interrupts@{keyboard\_reenable\_interrupts}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{keyboard\_reenable\_interrupts()}{keyboard\_reenable\_interrupts()}}
{\footnotesize\ttfamily \label{keyboard_8c_ae9ddd281a2f76fba3bd46afa183d7223} 
int keyboard\+\_\+reenable\+\_\+interrupts (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Reenable the keyboard interrupts if they were disabled. 

\begin{DoxyReturn}{Returns}
0 in case of success, 1 otherwise 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keyboard_8c_source_l00036}{36}} of file \mbox{\hyperlink{keyboard_8c_source}{keyboard.\+c}}.

\Hypertarget{keyboard_8c_aad41bc56418fe6ef55da17d70e94d428}\index{keyboard.c@{keyboard.c}!keyboard\_subscribe\_int\_exclusive@{keyboard\_subscribe\_int\_exclusive}}
\index{keyboard\_subscribe\_int\_exclusive@{keyboard\_subscribe\_int\_exclusive}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{keyboard\_subscribe\_int\_exclusive()}{keyboard\_subscribe\_int\_exclusive()}}
{\footnotesize\ttfamily \label{keyboard_8c_aad41bc56418fe6ef55da17d70e94d428} 
int keyboard\+\_\+subscribe\+\_\+int\+\_\+exclusive (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{bit\+\_\+no}{}\end{DoxyParamCaption})}



Subscribes the keyboard interruptions with the payload on bit bit\+\_\+no. 

Uses the IRQ\+\_\+\+EXCLUSIVE tag so MINIX does not steal the interrupts.


\begin{DoxyParams}{Parameters}
{\em bit\+\_\+no} & The bit position to set the payload \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 in case of success, 1 otherwise 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keyboard_8c_source_l00017}{17}} of file \mbox{\hyperlink{keyboard_8c_source}{keyboard.\+c}}.

\Hypertarget{keyboard_8c_ac95aea27a5e91b363b876fed881f368f}\index{keyboard.c@{keyboard.c}!keyboard\_unsubscribe\_int@{keyboard\_unsubscribe\_int}}
\index{keyboard\_unsubscribe\_int@{keyboard\_unsubscribe\_int}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{keyboard\_unsubscribe\_int()}{keyboard\_unsubscribe\_int()}}
{\footnotesize\ttfamily \label{keyboard_8c_ac95aea27a5e91b363b876fed881f368f} 
int keyboard\+\_\+unsubscribe\+\_\+int (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Unsubscribes the keyboard interruptions. 

\begin{DoxyReturn}{Returns}
0 in case of success, 1 otherwise 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keyboard_8c_source_l00022}{22}} of file \mbox{\hyperlink{keyboard_8c_source}{keyboard.\+c}}.



\doxysubsection{Variable Documentation}
\Hypertarget{keyboard_8c_a74708534432e98d4ab30ba40e2e5dcc3}\index{keyboard.c@{keyboard.c}!kbd\_hook\_id@{kbd\_hook\_id}}
\index{kbd\_hook\_id@{kbd\_hook\_id}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{kbd\_hook\_id}{kbd\_hook\_id}}
{\footnotesize\ttfamily \label{keyboard_8c_a74708534432e98d4ab30ba40e2e5dcc3} 
int kbd\+\_\+hook\+\_\+id\hspace{0.3cm}{\ttfamily [static]}}



The hook id to unsubscribe the keyboard interruptions. 



Definition at line \mbox{\hyperlink{keyboard_8c_source_l00010}{10}} of file \mbox{\hyperlink{keyboard_8c_source}{keyboard.\+c}}.

\Hypertarget{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f}\index{keyboard.c@{keyboard.c}!scancode@{scancode}}
\index{scancode@{scancode}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{scancode}{scancode}}
{\footnotesize\ttfamily \label{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f} 
uint8\+\_\+t scancode = 0\hspace{0.3cm}{\ttfamily [static]}}



The lastest scancode read. 



Definition at line \mbox{\hyperlink{keyboard_8c_source_l00011}{11}} of file \mbox{\hyperlink{keyboard_8c_source}{keyboard.\+c}}.

