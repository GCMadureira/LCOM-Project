\doxysection{controller/enemy\+\_\+controller.h File Reference}
\hypertarget{enemy__controller_8h}{}\label{enemy__controller_8h}\index{controller/enemy\_controller.h@{controller/enemy\_controller.h}}


Header file for \doxylink{enemy__controller_8c}{enemy\+\_\+controller.\+c}.  


{\ttfamily \#include $<$lcom/lcf.\+h$>$}\newline
{\ttfamily \#include "{}../model/structs.\+h"{}}\newline
{\ttfamily \#include "{}../model/entity.\+h"{}}\newline
{\ttfamily \#include "{}../model/arena.\+h"{}}\newline
{\ttfamily \#include "{}main\+\_\+controller.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{enemy__controller_8h_a3c40e2518b4200552b89f80c1cc8d11d}{spawn\+\_\+enemy}} (\mbox{\hyperlink{structarena}{arena}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structarena}{arena}}, double speed\+\_\+multiplier, uint32\+\_\+t health, \mbox{\hyperlink{structanimation}{animation}} \texorpdfstring{$\ast$}{*}animations)
\begin{DoxyCompactList}\small\item\em Spawns an enemy offscreen. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{enemy__controller_8h_a60b46083beb9a9caca98687b50a23847}{handle\+\_\+enemy\+\_\+spawning}} (\mbox{\hyperlink{structarena}{arena}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structarena}{arena}})
\begin{DoxyCompactList}\small\item\em Spawns enemies on the arena with cooldown. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{enemy__controller_8h_afb7a852c25e37e522fcf4059ca07e039}{setup\+\_\+enemy\+\_\+controller}} ()
\begin{DoxyCompactList}\small\item\em Sets up the enemy controller for a new game by resetting all the static variables. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{enemy__controller_8h_a3b595a26d7d21fae057f774ec77b3e0c}{handle\+\_\+enemy\+\_\+collisions}} (\mbox{\hyperlink{structarena}{arena}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structarena}{arena}})
\begin{DoxyCompactList}\small\item\em Checks the collisions of the active enemies with the player and with attacks. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{enemy__controller_8h_a9c91dd4ab57fb7674dd08b25f0ddaf35}{check\+\_\+player\+\_\+collision}} (\mbox{\hyperlink{structentity}{entity}} \texorpdfstring{$\ast$}{*}enemy, \mbox{\hyperlink{structentity}{entity}} \texorpdfstring{$\ast$}{*}player)
\begin{DoxyCompactList}\small\item\em Checks if the player is colliding with the enemy. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{enemy__controller_8h_abed479c30c62900d890c8ec4d48f99bc}{check\+\_\+attack\+\_\+collision}} (\mbox{\hyperlink{structentity}{entity}} \texorpdfstring{$\ast$}{*}enemy, \mbox{\hyperlink{structattack}{attack}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structattack}{attack}})
\begin{DoxyCompactList}\small\item\em Checks if the enemy is colliding with the attack. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{enemy__controller_8h_a0eacbbffc80e6ed032e27eef7bd25c55}{enemies\+\_\+move}} (\mbox{\hyperlink{structarena}{arena}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structarena}{arena}})
\begin{DoxyCompactList}\small\item\em Moves all the enemies one frame. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file for \doxylink{enemy__controller_8c}{enemy\+\_\+controller.\+c}. 

This file declares all the functions to be used on the enemies\textquotesingle{}s logic. 

Definition in file \mbox{\hyperlink{enemy__controller_8h_source}{enemy\+\_\+controller.\+h}}.



\doxysubsection{Function Documentation}
\Hypertarget{enemy__controller_8h_abed479c30c62900d890c8ec4d48f99bc}\index{enemy\_controller.h@{enemy\_controller.h}!check\_attack\_collision@{check\_attack\_collision}}
\index{check\_attack\_collision@{check\_attack\_collision}!enemy\_controller.h@{enemy\_controller.h}}
\doxysubsubsection{\texorpdfstring{check\_attack\_collision()}{check\_attack\_collision()}}
{\footnotesize\ttfamily \label{enemy__controller_8h_abed479c30c62900d890c8ec4d48f99bc} 
bool check\+\_\+attack\+\_\+collision (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structentity}{entity}} \texorpdfstring{$\ast$}{*}}]{enemy}{, }\item[{\mbox{\hyperlink{structattack}{attack}} \texorpdfstring{$\ast$}{*}}]{attack}{}\end{DoxyParamCaption})}



Checks if the enemy is colliding with the attack. 

Uses a simple box collision detection utilizing the image sizes of the sprites. Inflates the hitboxes by a small ammount to make the collisions easier to achieve.


\begin{DoxyParams}{Parameters}
{\em enemy} & A pointer to the enemy entity to check \\
\hline
{\em player} & A pointer to the player entity to check\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the entities are colliding, false otherwise 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{enemy__controller_8c_source_l00110}{110}} of file \mbox{\hyperlink{enemy__controller_8c_source}{enemy\+\_\+controller.\+c}}.

\Hypertarget{enemy__controller_8h_a9c91dd4ab57fb7674dd08b25f0ddaf35}\index{enemy\_controller.h@{enemy\_controller.h}!check\_player\_collision@{check\_player\_collision}}
\index{check\_player\_collision@{check\_player\_collision}!enemy\_controller.h@{enemy\_controller.h}}
\doxysubsubsection{\texorpdfstring{check\_player\_collision()}{check\_player\_collision()}}
{\footnotesize\ttfamily \label{enemy__controller_8h_a9c91dd4ab57fb7674dd08b25f0ddaf35} 
bool check\+\_\+player\+\_\+collision (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structentity}{entity}} \texorpdfstring{$\ast$}{*}}]{enemy}{, }\item[{\mbox{\hyperlink{structentity}{entity}} \texorpdfstring{$\ast$}{*}}]{player}{}\end{DoxyParamCaption})}



Checks if the player is colliding with the enemy. 

Uses a simple box collision detection utilizing the image sizes of the sprites. Deflates the hitboxes by a small ammount to make the collisions more accurate.


\begin{DoxyParams}{Parameters}
{\em enemy} & A pointer to the enemy entity to check \\
\hline
{\em player} & A pointer to the player entity to check\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the entities are colliding, false otherwise 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{enemy__controller_8c_source_l00094}{94}} of file \mbox{\hyperlink{enemy__controller_8c_source}{enemy\+\_\+controller.\+c}}.

\Hypertarget{enemy__controller_8h_a0eacbbffc80e6ed032e27eef7bd25c55}\index{enemy\_controller.h@{enemy\_controller.h}!enemies\_move@{enemies\_move}}
\index{enemies\_move@{enemies\_move}!enemy\_controller.h@{enemy\_controller.h}}
\doxysubsubsection{\texorpdfstring{enemies\_move()}{enemies\_move()}}
{\footnotesize\ttfamily \label{enemy__controller_8h_a0eacbbffc80e6ed032e27eef7bd25c55} 
void enemies\+\_\+move (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structarena}{arena}} \texorpdfstring{$\ast$}{*}}]{arena}{}\end{DoxyParamCaption})}



Moves all the enemies one frame. 

Iterates through the list of active enemies and calculates the direction they need to move (towards the player).


\begin{DoxyParams}{Parameters}
{\em arena} & A pointer to the arena whose enemies will be moved \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{enemy__controller_8c_source_l00165}{165}} of file \mbox{\hyperlink{enemy__controller_8c_source}{enemy\+\_\+controller.\+c}}.

\Hypertarget{enemy__controller_8h_a3b595a26d7d21fae057f774ec77b3e0c}\index{enemy\_controller.h@{enemy\_controller.h}!handle\_enemy\_collisions@{handle\_enemy\_collisions}}
\index{handle\_enemy\_collisions@{handle\_enemy\_collisions}!enemy\_controller.h@{enemy\_controller.h}}
\doxysubsubsection{\texorpdfstring{handle\_enemy\_collisions()}{handle\_enemy\_collisions()}}
{\footnotesize\ttfamily \label{enemy__controller_8h_a3b595a26d7d21fae057f774ec77b3e0c} 
bool handle\+\_\+enemy\+\_\+collisions (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structarena}{arena}} \texorpdfstring{$\ast$}{*}}]{arena}{}\end{DoxyParamCaption})}



Checks the collisions of the active enemies with the player and with attacks. 

Iterates through the list of active enemies and decreases their health if hit by an attack, using check\+\_\+attack\+\_\+collison() to check, removing them from the arena if the health reaches 0. ~\newline
 If the enemy was not removed, calls \doxylink{enemy__controller_8h_a9c91dd4ab57fb7674dd08b25f0ddaf35}{check\+\_\+player\+\_\+collision()} to check if the it collided with the player.


\begin{DoxyParams}{Parameters}
{\em arena} & A pointer to the arena where the collisions will be checked \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if an enemy collided with the player, false otherwise 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{enemy__controller_8c_source_l00123}{123}} of file \mbox{\hyperlink{enemy__controller_8c_source}{enemy\+\_\+controller.\+c}}.

\Hypertarget{enemy__controller_8h_a60b46083beb9a9caca98687b50a23847}\index{enemy\_controller.h@{enemy\_controller.h}!handle\_enemy\_spawning@{handle\_enemy\_spawning}}
\index{handle\_enemy\_spawning@{handle\_enemy\_spawning}!enemy\_controller.h@{enemy\_controller.h}}
\doxysubsubsection{\texorpdfstring{handle\_enemy\_spawning()}{handle\_enemy\_spawning()}}
{\footnotesize\ttfamily \label{enemy__controller_8h_a60b46083beb9a9caca98687b50a23847} 
void handle\+\_\+enemy\+\_\+spawning (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structarena}{arena}} \texorpdfstring{$\ast$}{*}}]{arena}{}\end{DoxyParamCaption})}



Spawns enemies on the arena with cooldown. 

Spawns different types of enemies with different spawn rates on the arena, limited by the \doxylink{enemy__controller_8c_a544651f3405cff79c40d898a8e54f507}{MAX\+\_\+\+ENEMIES} count.


\begin{DoxyParams}{Parameters}
{\em arena} & A pointer to the arena where the enemies will spawn \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{enemy__controller_8c_source_l00044}{44}} of file \mbox{\hyperlink{enemy__controller_8c_source}{enemy\+\_\+controller.\+c}}.

\Hypertarget{enemy__controller_8h_afb7a852c25e37e522fcf4059ca07e039}\index{enemy\_controller.h@{enemy\_controller.h}!setup\_enemy\_controller@{setup\_enemy\_controller}}
\index{setup\_enemy\_controller@{setup\_enemy\_controller}!enemy\_controller.h@{enemy\_controller.h}}
\doxysubsubsection{\texorpdfstring{setup\_enemy\_controller()}{setup\_enemy\_controller()}}
{\footnotesize\ttfamily \label{enemy__controller_8h_afb7a852c25e37e522fcf4059ca07e039} 
void setup\+\_\+enemy\+\_\+controller (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Sets up the enemy controller for a new game by resetting all the static variables. 

Resets \doxylink{enemy__controller_8c_a7d95c7d9eba30d8e1bad230466e60c5a}{last\+\_\+normal\+\_\+enemy\+\_\+spawn}, \doxylink{enemy__controller_8c_ae94841645854ed32efc1ba102867d91c}{last\+\_\+mummy\+\_\+spawn} and \doxylink{enemy__controller_8c_acb5efdf8b3fa07d4a331bd70305c1c46}{enemy\+\_\+count}. 

Definition at line \mbox{\hyperlink{enemy__controller_8c_source_l00038}{38}} of file \mbox{\hyperlink{enemy__controller_8c_source}{enemy\+\_\+controller.\+c}}.

\Hypertarget{enemy__controller_8h_a3c40e2518b4200552b89f80c1cc8d11d}\index{enemy\_controller.h@{enemy\_controller.h}!spawn\_enemy@{spawn\_enemy}}
\index{spawn\_enemy@{spawn\_enemy}!enemy\_controller.h@{enemy\_controller.h}}
\doxysubsubsection{\texorpdfstring{spawn\_enemy()}{spawn\_enemy()}}
{\footnotesize\ttfamily \label{enemy__controller_8h_a3c40e2518b4200552b89f80c1cc8d11d} 
void spawn\+\_\+enemy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structarena}{arena}} \texorpdfstring{$\ast$}{*}}]{arena}{, }\item[{double}]{speed\+\_\+multiplier}{, }\item[{uint32\+\_\+t}]{health}{, }\item[{\mbox{\hyperlink{structanimation}{animation}} \texorpdfstring{$\ast$}{*}}]{animations}{}\end{DoxyParamCaption})}



Spawns an enemy offscreen. 

Picks a random position 10 pixels away from the map limit and spawns an enemy on the resulting random position, adding it to the arena\textquotesingle{}s list of active enemies.


\begin{DoxyParams}{Parameters}
{\em arena} & A pointer to the arena where the enemy will be spawned \\
\hline
{\em speed\+\_\+multiplier} & The speed multiplier of the new enemy \\
\hline
{\em health} & The health of the new enemy \\
\hline
{\em animations} & A pointer to the animations the new enemy will use \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{enemy__controller_8c_source_l00058}{58}} of file \mbox{\hyperlink{enemy__controller_8c_source}{enemy\+\_\+controller.\+c}}.

