<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pharaoh&#39;s Curse: controller/arena_controller.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="doxigenicon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Pharaoh&#39;s Curse
   </div>
   <div id="projectbrief">Game inpisred by &quot;Vampire Survivors&quot; and made for the 24/25 LCOM project.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('arena__controller_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">arena_controller.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for <a class="el" href="arena__controller_8c.html">arena_controller.c</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;lcom/lcf.h&gt;</code><br />
<code>#include &quot;<a class="el" href="structs_8h_source.html">../model/structs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="entity_8h_source.html">../model/entity.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="arena_8h_source.html">../model/arena.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="attack_8h_source.html">../model/attack.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="main__controller_8h_source.html">main_controller.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="enemy__controller_8h_source.html">enemy_controller.h</a>&quot;</code><br />
</div>
<p><a href="arena__controller_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7320cd4f275ec44ece5cbaf1204b381f" id="r_a7320cd4f275ec44ece5cbaf1204b381f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7320cd4f275ec44ece5cbaf1204b381f">get_arena_game_time</a> ()</td></tr>
<tr class="memdesc:a7320cd4f275ec44ece5cbaf1204b381f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the <a class="el" href="arena__controller_8c.html#a2caa2c2469060cc23dce125c0096b627">arena_game_time</a> static member.  <br /></td></tr>
<tr class="separator:a7320cd4f275ec44ece5cbaf1204b381f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fbac95d897cdd6d73418d49d79f43eb" id="r_a1fbac95d897cdd6d73418d49d79f43eb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fbac95d897cdd6d73418d49d79f43eb">get_arena_starting_frame</a> ()</td></tr>
<tr class="memdesc:a1fbac95d897cdd6d73418d49d79f43eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the <a class="el" href="arena__controller_8c.html#a23074493553252f07b67549346a9b153">arena_starting_frame</a> static member.  <br /></td></tr>
<tr class="separator:a1fbac95d897cdd6d73418d49d79f43eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4233e345dd45a72fa6b7d3dba0a19379" id="r_a4233e345dd45a72fa6b7d3dba0a19379"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4233e345dd45a72fa6b7d3dba0a19379">handle_ranged_attack</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:a4233e345dd45a72fa6b7d3dba0a19379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a ranged attack with a cooldown.  <br /></td></tr>
<tr class="separator:a4233e345dd45a72fa6b7d3dba0a19379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dac5d250ad059af842c4b6292260f1" id="r_a63dac5d250ad059af842c4b6292260f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63dac5d250ad059af842c4b6292260f1">handle_auto_attack</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:a63dac5d250ad059af842c4b6292260f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the auto attack with a cooldown.  <br /></td></tr>
<tr class="separator:a63dac5d250ad059af842c4b6292260f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65fc1548128ab4fb70d7e1aeddd65537" id="r_a65fc1548128ab4fb70d7e1aeddd65537"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65fc1548128ab4fb70d7e1aeddd65537">arena_process_frame</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:a65fc1548128ab4fb70d7e1aeddd65537"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a frame on the passed arena.  <br /></td></tr>
<tr class="separator:a65fc1548128ab4fb70d7e1aeddd65537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9189679ee0e5aadead4c613784f76164" id="r_a9189679ee0e5aadead4c613784f76164"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9189679ee0e5aadead4c613784f76164">setup_arena_controller</a> ()</td></tr>
<tr class="memdesc:a9189679ee0e5aadead4c613784f76164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the arena controller for a new game by resetting all the static variables.  <br /></td></tr>
<tr class="separator:a9189679ee0e5aadead4c613784f76164"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for <a class="el" href="arena__controller_8c.html">arena_controller.c</a>. </p>
<p>This file declares all the functions to be used on the arena's logic. </p>

<p class="definition">Definition in file <a class="el" href="arena__controller_8h_source.html">arena_controller.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a65fc1548128ab4fb70d7e1aeddd65537" name="a65fc1548128ab4fb70d7e1aeddd65537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65fc1548128ab4fb70d7e1aeddd65537">&#9670;&#160;</a></span>arena_process_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int arena_process_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes a frame on the passed arena. </p>
<p>This function is called once every frame on the main controller to process one frame on the arena. First checks collisions with the enemies, reducing the health of the player with a cooldown of one second. Also handles the collisions with the heart power-ups that recover the player's missing health. <br  />
 It then handles the enemy and heart spawning by calling the functions <a class="el" href="enemy__controller_8c.html#a60b46083beb9a9caca98687b50a23847" title="Spawns enemies on the arena with cooldown.">handle_enemy_spawning()</a> and <a class="el" href="arena__controller_8c.html#aa5a4d603090c9ce2c25707be8bdaf9e5" title="Spawns a heart to regenerate the player with a cooldown.">handle_heart_spawning()</a>, while also calling the <a class="el" href="#a63dac5d250ad059af842c4b6292260f1" title="Executes the auto attack with a cooldown.">handle_auto_attack()</a> function to execute the normal attack on cooldown. <br  />
 At the end, it moves all the entities associated with the arena by calling <a class="el" href="arena__controller_8c.html#a2fcd7bed1ee21149f594ab5663588ec2" title="Moves all the active entities of the arena one frame.">arena_move_entities()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena where the frame will be processed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the player died and thus the game ended, 0 otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00250">250</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a7320cd4f275ec44ece5cbaf1204b381f" name="a7320cd4f275ec44ece5cbaf1204b381f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7320cd4f275ec44ece5cbaf1204b381f">&#9670;&#160;</a></span>get_arena_game_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t get_arena_game_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the <a class="el" href="arena__controller_8c.html#a2caa2c2469060cc23dce125c0096b627">arena_game_time</a> static member. </p>
<dl class="section return"><dt>Returns</dt><dd>The time in seconds the arena was active. </dd></dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00077">77</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a1fbac95d897cdd6d73418d49d79f43eb" name="a1fbac95d897cdd6d73418d49d79f43eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fbac95d897cdd6d73418d49d79f43eb">&#9670;&#160;</a></span>get_arena_starting_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t get_arena_starting_frame </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the <a class="el" href="arena__controller_8c.html#a23074493553252f07b67549346a9b153">arena_starting_frame</a> static member. </p>
<dl class="section return"><dt>Returns</dt><dd>The frame when the arena was initialized. </dd></dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00073">73</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a63dac5d250ad059af842c4b6292260f1" name="a63dac5d250ad059af842c4b6292260f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63dac5d250ad059af842c4b6292260f1">&#9670;&#160;</a></span>handle_auto_attack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_auto_attack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes the auto attack with a cooldown. </p>
<p>If the cooldown has passed, it executes the auto attack in the direction the player is facing and adds it to the arena's active attack list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena where the attack will be executed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00104">104</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a4233e345dd45a72fa6b7d3dba0a19379" name="a4233e345dd45a72fa6b7d3dba0a19379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4233e345dd45a72fa6b7d3dba0a19379">&#9670;&#160;</a></span>handle_ranged_attack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_ranged_attack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a ranged attack with a cooldown. </p>
<p>If the cooldown has passed, it executes a lightning attack in the position of the mouse and adds it to the arena's active attack list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena where the attack will be executed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00088">88</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a9189679ee0e5aadead4c613784f76164" name="a9189679ee0e5aadead4c613784f76164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9189679ee0e5aadead4c613784f76164">&#9670;&#160;</a></span>setup_arena_controller()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_arena_controller </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the arena controller for a new game by resetting all the static variables. </p>
<p>Resets <a class="el" href="arena__controller_8c.html#a8cc3dc29c94aed014bbd6d02f6a4d259">last_auto_attack</a>, last_range_attack, <a class="el" href="arena__controller_8c.html#a23074493553252f07b67549346a9b153">arena_starting_frame</a> and <a class="el" href="arena__controller_8c.html#a2caa2c2469060cc23dce125c0096b627">arena_game_time</a>. </p>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00081">81</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d3bff1ab3a40b4e5d0775c67ace1b0da.html">controller</a></li><li class="navelem"><a class="el" href="arena__controller_8h.html">arena_controller.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
