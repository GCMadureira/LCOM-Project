<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pharaoh&#39;s Curse: game.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="doxigenicon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Pharaoh&#39;s Curse
   </div>
   <div id="projectbrief">Game inpisred by &quot;Vampire Survivors&quot; and made for the 24/25 LCOM project.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('game_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">game.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Source code file for the entry point of the program, as well as the main setup and clean functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;lcom/lcf.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="drivers_8h_source.html">drivers/drivers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scancodes_8h_source.html">macros/scancodes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="main__controller_8h_source.html">controller/main_controller.h</a>&quot;</code><br />
</div>
<p><a href="game_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a47d86c55c1bc9d2a93df0b9476c4d630" id="r_a47d86c55c1bc9d2a93df0b9476c4d630"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47d86c55c1bc9d2a93df0b9476c4d630">game_init</a> ()</td></tr>
<tr class="memdesc:a47d86c55c1bc9d2a93df0b9476c4d630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the game by setting up what is necessary.  <br /></td></tr>
<tr class="separator:a47d86c55c1bc9d2a93df0b9476c4d630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1fb57f21dfdfe8414ed5ff0c744a10" id="r_abc1fb57f21dfdfe8414ed5ff0c744a10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc1fb57f21dfdfe8414ed5ff0c744a10">game_exit</a> ()</td></tr>
<tr class="memdesc:abc1fb57f21dfdfe8414ed5ff0c744a10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up the game by reverting to the starting state.  <br /></td></tr>
<tr class="separator:abc1fb57f21dfdfe8414ed5ff0c744a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977ea2c8b233ea8698f2077628e1bb48" id="r_a977ea2c8b233ea8698f2077628e1bb48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a977ea2c8b233ea8698f2077628e1bb48">proj_main_loop</a> ()</td></tr>
<tr class="memdesc:a977ea2c8b233ea8698f2077628e1bb48"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main loop of the game.  <br /></td></tr>
<tr class="separator:a977ea2c8b233ea8698f2077628e1bb48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97" id="r_a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Source code file for the entry point of the program, as well as the main setup and clean functions. </p>

<p class="definition">Definition in file <a class="el" href="game_8c_source.html">game.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="abc1fb57f21dfdfe8414ed5ff0c744a10" name="abc1fb57f21dfdfe8414ed5ff0c744a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc1fb57f21dfdfe8414ed5ff0c744a10">&#9670;&#160;</a></span>game_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int game_exit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans up the game by reverting to the starting state. </p>
<p>Sets the timer 0's frequency back to 60hz, unsubscribes the timer, keyboard and mouse interruptions, disables the mouse data reporting and then calls vg_exit(). <br  />
 After reverting the drivers' state, it calls <a class="el" href="main__controller_8c.html#a92a2f28091bb858097abd29fe906badd" title="Cleans up the program.">clean_game()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, 1 otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="game_8c_source.html#l00047">47</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a id="a47d86c55c1bc9d2a93df0b9476c4d630" name="a47d86c55c1bc9d2a93df0b9476c4d630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47d86c55c1bc9d2a93df0b9476c4d630">&#9670;&#160;</a></span>game_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int game_init </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the game by setting up what is necessary. </p>
<p>Sets the timer 0's frequency to 60hz to serve as the frame rate, subscribes the timer, keyboard and mouse interruptions (the last one after enabling data reporting) and then initizalies the graphics mode and vram mapping. <br  />
 After setting up the drivers it calls <a class="el" href="main__controller_8c.html#a3111dee1b7eba98e02de5d77e3d9f056" title="Sets up the program.">setup_game()</a> to initialize the program logic.</p>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, 1 otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="game_8c_source.html#l00023">23</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>[]&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="game_8c_source.html#l00104">104</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
<a id="a977ea2c8b233ea8698f2077628e1bb48" name="a977ea2c8b233ea8698f2077628e1bb48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a977ea2c8b233ea8698f2077628e1bb48">&#9670;&#160;</a></span>proj_main_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int proj_main_loop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main loop of the game. </p>
<p>Sets up the game by calling the <a class="el" href="#a47d86c55c1bc9d2a93df0b9476c4d630" title="Initializes the game by setting up what is necessary.">game_init()</a> function at the beginning. <br  />
 Catches the interrupts and, for the keyboard and mouse, calls <a class="el" href="events_8c.html#a1c2871d60f7bf52fb9b0a8542a0554fe" title="Handles a keyboard event.">event_handle_keyboard()</a> or <a class="el" href="events_8c.html#aa4d7e9e466bc99df5b926d29adf960f3" title="Handles a mouse event.">event_handle_mouse()</a>. For the timer interruptions, each one causes a frame to be processed. <br  />
 Finally, it calls <a class="el" href="#abc1fb57f21dfdfe8414ed5ff0c744a10" title="Cleans up the game by reverting to the starting state.">game_exit()</a> before returning.</p>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, 1 otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="game_8c_source.html#l00064">64</a> of file <a class="el" href="game_8c_source.html">game.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="game_8c.html">game.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
