<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pharaoh&#39;s Curse: controller/arena_controller.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="doxigenicon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Pharaoh&#39;s Curse
   </div>
   <div id="projectbrief">Game inpisred by &quot;Vampire Survivors&quot; and made for the 24/25 LCOM project.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('arena__controller_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">arena_controller.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Source code to control the arena.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="arena__controller_8h_source.html">arena_controller.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div>
<p><a href="arena__controller_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa5a4d603090c9ce2c25707be8bdaf9e5" id="r_aa5a4d603090c9ce2c25707be8bdaf9e5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5a4d603090c9ce2c25707be8bdaf9e5">handle_heart_spawning</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:aa5a4d603090c9ce2c25707be8bdaf9e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spawns a heart to regenerate the player with a cooldown.  <br /></td></tr>
<tr class="separator:aa5a4d603090c9ce2c25707be8bdaf9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ee8f343d0d3cf3beea9e3653de9d9d8" id="r_a2ee8f343d0d3cf3beea9e3653de9d9d8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ee8f343d0d3cf3beea9e3653de9d9d8">check_heart_collision</a> (<a class="el" href="structentity.html">entity</a> *heart, <a class="el" href="structentity.html">entity</a> *player)</td></tr>
<tr class="memdesc:a2ee8f343d0d3cf3beea9e3653de9d9d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the player is colliding with the heart.  <br /></td></tr>
<tr class="separator:a2ee8f343d0d3cf3beea9e3653de9d9d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67e873a87302f00bac7bf2e4129f8d8" id="r_ae67e873a87302f00bac7bf2e4129f8d8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae67e873a87302f00bac7bf2e4129f8d8">handle_heart_collisions</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:ae67e873a87302f00bac7bf2e4129f8d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the collisions of the hearts with the player and regenerates health.  <br /></td></tr>
<tr class="separator:ae67e873a87302f00bac7bf2e4129f8d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32481e4dd17dd8915d3c4cdfdd2d2fc4" id="r_a32481e4dd17dd8915d3c4cdfdd2d2fc4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32481e4dd17dd8915d3c4cdfdd2d2fc4">attacks_move</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:a32481e4dd17dd8915d3c4cdfdd2d2fc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves all the active attacks of the arena one frame.  <br /></td></tr>
<tr class="separator:a32481e4dd17dd8915d3c4cdfdd2d2fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcd7bed1ee21149f594ab5663588ec2" id="r_a2fcd7bed1ee21149f594ab5663588ec2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2fcd7bed1ee21149f594ab5663588ec2">arena_move_entities</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:a2fcd7bed1ee21149f594ab5663588ec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves all the active entities of the arena one frame.  <br /></td></tr>
<tr class="separator:a2fcd7bed1ee21149f594ab5663588ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fbac95d897cdd6d73418d49d79f43eb" id="r_a1fbac95d897cdd6d73418d49d79f43eb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fbac95d897cdd6d73418d49d79f43eb">get_arena_starting_frame</a> ()</td></tr>
<tr class="memdesc:a1fbac95d897cdd6d73418d49d79f43eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the <a class="el" href="#a23074493553252f07b67549346a9b153">arena_starting_frame</a> static member.  <br /></td></tr>
<tr class="separator:a1fbac95d897cdd6d73418d49d79f43eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7320cd4f275ec44ece5cbaf1204b381f" id="r_a7320cd4f275ec44ece5cbaf1204b381f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7320cd4f275ec44ece5cbaf1204b381f">get_arena_game_time</a> ()</td></tr>
<tr class="memdesc:a7320cd4f275ec44ece5cbaf1204b381f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the <a class="el" href="#a2caa2c2469060cc23dce125c0096b627">arena_game_time</a> static member.  <br /></td></tr>
<tr class="separator:a7320cd4f275ec44ece5cbaf1204b381f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9189679ee0e5aadead4c613784f76164" id="r_a9189679ee0e5aadead4c613784f76164"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9189679ee0e5aadead4c613784f76164">setup_arena_controller</a> ()</td></tr>
<tr class="memdesc:a9189679ee0e5aadead4c613784f76164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the arena controller for a new game by resetting all the static variables.  <br /></td></tr>
<tr class="separator:a9189679ee0e5aadead4c613784f76164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4233e345dd45a72fa6b7d3dba0a19379" id="r_a4233e345dd45a72fa6b7d3dba0a19379"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4233e345dd45a72fa6b7d3dba0a19379">handle_ranged_attack</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:a4233e345dd45a72fa6b7d3dba0a19379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a ranged attack with a cooldown.  <br /></td></tr>
<tr class="separator:a4233e345dd45a72fa6b7d3dba0a19379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dac5d250ad059af842c4b6292260f1" id="r_a63dac5d250ad059af842c4b6292260f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63dac5d250ad059af842c4b6292260f1">handle_auto_attack</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:a63dac5d250ad059af842c4b6292260f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the auto attack with a cooldown.  <br /></td></tr>
<tr class="separator:a63dac5d250ad059af842c4b6292260f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6010cc0aefe7891b4a1fb12c3f673647" id="r_a6010cc0aefe7891b4a1fb12c3f673647"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6010cc0aefe7891b4a1fb12c3f673647">handle_secret_spawning</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="separator:a6010cc0aefe7891b4a1fb12c3f673647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65fc1548128ab4fb70d7e1aeddd65537" id="r_a65fc1548128ab4fb70d7e1aeddd65537"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65fc1548128ab4fb70d7e1aeddd65537">arena_process_frame</a> (<a class="el" href="structarena.html">arena</a> *<a class="el" href="structarena.html">arena</a>)</td></tr>
<tr class="memdesc:a65fc1548128ab4fb70d7e1aeddd65537"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a frame on the passed arena.  <br /></td></tr>
<tr class="separator:a65fc1548128ab4fb70d7e1aeddd65537"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2caa2c2469060cc23dce125c0096b627" id="r_a2caa2c2469060cc23dce125c0096b627"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2caa2c2469060cc23dce125c0096b627">arena_game_time</a> = 0</td></tr>
<tr class="memdesc:a2caa2c2469060cc23dce125c0096b627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time the arena was active in seconds.  <br /></td></tr>
<tr class="separator:a2caa2c2469060cc23dce125c0096b627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23074493553252f07b67549346a9b153" id="r_a23074493553252f07b67549346a9b153"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23074493553252f07b67549346a9b153">arena_starting_frame</a> = 0</td></tr>
<tr class="memdesc:a23074493553252f07b67549346a9b153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track the frame when the arena was created.  <br /></td></tr>
<tr class="separator:a23074493553252f07b67549346a9b153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4694ff2f8732268d936e7c077f8c3137" id="r_a4694ff2f8732268d936e7c077f8c3137"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4694ff2f8732268d936e7c077f8c3137">last_damage_time</a> = 0</td></tr>
<tr class="memdesc:a4694ff2f8732268d936e7c077f8c3137"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track when we last damaged the player.  <br /></td></tr>
<tr class="separator:a4694ff2f8732268d936e7c077f8c3137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc3dc29c94aed014bbd6d02f6a4d259" id="r_a8cc3dc29c94aed014bbd6d02f6a4d259"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cc3dc29c94aed014bbd6d02f6a4d259">last_auto_attack</a> = 0</td></tr>
<tr class="memdesc:a8cc3dc29c94aed014bbd6d02f6a4d259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track when the player last auto attacked.  <br /></td></tr>
<tr class="separator:a8cc3dc29c94aed014bbd6d02f6a4d259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bfb9b316009d3d310d1e710084e726e" id="r_a8bfb9b316009d3d310d1e710084e726e"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8bfb9b316009d3d310d1e710084e726e">last_ranged_attack</a> = 0</td></tr>
<tr class="memdesc:a8bfb9b316009d3d310d1e710084e726e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track when the player last used a ranged attack.  <br /></td></tr>
<tr class="separator:a8bfb9b316009d3d310d1e710084e726e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4a87685a2e34eba35e97b978de9517" id="r_a0a4a87685a2e34eba35e97b978de9517"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a4a87685a2e34eba35e97b978de9517">last_heart_spawn</a> = 0</td></tr>
<tr class="memdesc:a0a4a87685a2e34eba35e97b978de9517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track when we last spawned a heart.  <br /></td></tr>
<tr class="separator:a0a4a87685a2e34eba35e97b978de9517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07cff7d1896b2f4e13332f49d06e83e6" id="r_a07cff7d1896b2f4e13332f49d06e83e6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07cff7d1896b2f4e13332f49d06e83e6">secret_spawned</a> = false</td></tr>
<tr class="memdesc:a07cff7d1896b2f4e13332f49d06e83e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track if the secret enemy has been spawned.  <br /></td></tr>
<tr class="separator:a07cff7d1896b2f4e13332f49d06e83e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Source code to control the arena. </p>
<p>This file handles the logic behind the operation of the arena, including the player and the enemies using the functions in <a class="el" href="enemy__controller_8c.html">enemy_controller.c</a>. </p>

<p class="definition">Definition in file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2fcd7bed1ee21149f594ab5663588ec2" name="a2fcd7bed1ee21149f594ab5663588ec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fcd7bed1ee21149f594ab5663588ec2">&#9670;&#160;</a></span>arena_move_entities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void arena_move_entities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves all the active entities of the arena one frame. </p>
<p>Calls <a class="el" href="enemy__controller_8c.html#a0eacbbffc80e6ed032e27eef7bd25c55" title="Moves all the enemies one frame.">enemies_move()</a> to move all the enemies and <a class="el" href="#a32481e4dd17dd8915d3c4cdfdd2d2fc4" title="Moves all the active attacks of the arena one frame.">attacks_move()</a> to move all the active attacks. It also moves the player and the arena accordingly, limiting the arena coordinates.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena whose entities will be moved. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00237">237</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a65fc1548128ab4fb70d7e1aeddd65537" name="a65fc1548128ab4fb70d7e1aeddd65537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65fc1548128ab4fb70d7e1aeddd65537">&#9670;&#160;</a></span>arena_process_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int arena_process_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes a frame on the passed arena. </p>
<p>This function is called once every frame on the main controller to process one frame on the arena. First checks collisions with the enemies, reducing the health of the player with a cooldown of one second. Also handles the collisions with the heart power-ups that recover the player's missing health. <br  />
 It then handles the enemy and heart spawning by calling the functions <a class="el" href="enemy__controller_8c.html#a60b46083beb9a9caca98687b50a23847" title="Spawns enemies on the arena with cooldown.">handle_enemy_spawning()</a> and <a class="el" href="#aa5a4d603090c9ce2c25707be8bdaf9e5" title="Spawns a heart to regenerate the player with a cooldown.">handle_heart_spawning()</a>, while also calling the <a class="el" href="arena__controller_8h.html#a63dac5d250ad059af842c4b6292260f1" title="Executes the auto attack with a cooldown.">handle_auto_attack()</a> function to execute the normal attack on cooldown. <br  />
 At the end, it moves all the entities associated with the arena by calling <a class="el" href="#a2fcd7bed1ee21149f594ab5663588ec2" title="Moves all the active entities of the arena one frame.">arena_move_entities()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena where the frame will be processed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the player died and thus the game ended, 0 otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00250">250</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a32481e4dd17dd8915d3c4cdfdd2d2fc4" name="a32481e4dd17dd8915d3c4cdfdd2d2fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32481e4dd17dd8915d3c4cdfdd2d2fc4">&#9670;&#160;</a></span>attacks_move()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void attacks_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves all the active attacks of the arena one frame. </p>
<p>Iterates through the list of active attacks and calls <a class="el" href="attack_8c.html#a2c5f8a0019ba4cbc5f0a3d10a948f62f" title="Advances one frame to the attack.">attack_move()</a> on each of them to advance one frame on the animation, unless the attack has expired, in which case it is removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena whose attacks will be processed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00213">213</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a2ee8f343d0d3cf3beea9e3653de9d9d8" name="a2ee8f343d0d3cf3beea9e3653de9d9d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ee8f343d0d3cf3beea9e3653de9d9d8">&#9670;&#160;</a></span>check_heart_collision()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_heart_collision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structentity.html">entity</a> *</td>          <td class="paramname"><span class="paramname"><em>heart</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structentity.html">entity</a> *</td>          <td class="paramname"><span class="paramname"><em>player</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the player is colliding with the heart. </p>
<p>Uses a simple box collision detection utilizing the image sizes of the sprites.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heart</td><td>A pointer to the heart entity to check </td></tr>
    <tr><td class="paramname">player</td><td>A pointer to the player entity to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the entities are colliding, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00175">175</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a7320cd4f275ec44ece5cbaf1204b381f" name="a7320cd4f275ec44ece5cbaf1204b381f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7320cd4f275ec44ece5cbaf1204b381f">&#9670;&#160;</a></span>get_arena_game_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t get_arena_game_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the <a class="el" href="#a2caa2c2469060cc23dce125c0096b627">arena_game_time</a> static member. </p>
<dl class="section return"><dt>Returns</dt><dd>The time in seconds the arena was active. </dd></dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00077">77</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a1fbac95d897cdd6d73418d49d79f43eb" name="a1fbac95d897cdd6d73418d49d79f43eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fbac95d897cdd6d73418d49d79f43eb">&#9670;&#160;</a></span>get_arena_starting_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t get_arena_starting_frame </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the <a class="el" href="#a23074493553252f07b67549346a9b153">arena_starting_frame</a> static member. </p>
<dl class="section return"><dt>Returns</dt><dd>The frame when the arena was initialized. </dd></dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00073">73</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a63dac5d250ad059af842c4b6292260f1" name="a63dac5d250ad059af842c4b6292260f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63dac5d250ad059af842c4b6292260f1">&#9670;&#160;</a></span>handle_auto_attack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_auto_attack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes the auto attack with a cooldown. </p>
<p>If the cooldown has passed, it executes the auto attack in the direction the player is facing and adds it to the arena's active attack list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena where the attack will be executed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00104">104</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="ae67e873a87302f00bac7bf2e4129f8d8" name="ae67e873a87302f00bac7bf2e4129f8d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67e873a87302f00bac7bf2e4129f8d8">&#9670;&#160;</a></span>handle_heart_collisions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_heart_collisions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks the collisions of the hearts with the player and regenerates health. </p>
<p>Iterates through the list of active hearts and checks if the player is colliding with each of them by calling <a class="el" href="#a2ee8f343d0d3cf3beea9e3653de9d9d8" title="Checks if the player is colliding with the heart.">check_heart_collision()</a>. If the player is colliding with a heart and does not have full health, a health point is added to the player and the heart is removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena where the collisions will be checked </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00183">183</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="aa5a4d603090c9ce2c25707be8bdaf9e5" name="aa5a4d603090c9ce2c25707be8bdaf9e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5a4d603090c9ce2c25707be8bdaf9e5">&#9670;&#160;</a></span>handle_heart_spawning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_heart_spawning </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Spawns a heart to regenerate the player with a cooldown. </p>
<p>If the cooldown has passed, it spawns a heart in a random position inside the arena.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena where the heart will be spawned </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00125">125</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a4233e345dd45a72fa6b7d3dba0a19379" name="a4233e345dd45a72fa6b7d3dba0a19379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4233e345dd45a72fa6b7d3dba0a19379">&#9670;&#160;</a></span>handle_ranged_attack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_ranged_attack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a ranged attack with a cooldown. </p>
<p>If the cooldown has passed, it executes a lightning attack in the position of the mouse and adds it to the arena's active attack list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arena</td><td>A pointer to the arena where the attack will be executed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00088">88</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a6010cc0aefe7891b4a1fb12c3f673647" name="a6010cc0aefe7891b4a1fb12c3f673647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6010cc0aefe7891b4a1fb12c3f673647">&#9670;&#160;</a></span>handle_secret_spawning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_secret_spawning </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarena.html">arena</a> *</td>          <td class="paramname"><span class="paramname"><em>arena</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00141">141</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a9189679ee0e5aadead4c613784f76164" name="a9189679ee0e5aadead4c613784f76164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9189679ee0e5aadead4c613784f76164">&#9670;&#160;</a></span>setup_arena_controller()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_arena_controller </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the arena controller for a new game by resetting all the static variables. </p>
<p>Resets <a class="el" href="#a8cc3dc29c94aed014bbd6d02f6a4d259">last_auto_attack</a>, last_range_attack, <a class="el" href="#a23074493553252f07b67549346a9b153">arena_starting_frame</a> and <a class="el" href="#a2caa2c2469060cc23dce125c0096b627">arena_game_time</a>. </p>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00081">81</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2caa2c2469060cc23dce125c0096b627" name="a2caa2c2469060cc23dce125c0096b627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2caa2c2469060cc23dce125c0096b627">&#9670;&#160;</a></span>arena_game_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t arena_game_time = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time the arena was active in seconds. </p>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00064">64</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a23074493553252f07b67549346a9b153" name="a23074493553252f07b67549346a9b153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23074493553252f07b67549346a9b153">&#9670;&#160;</a></span>arena_starting_frame</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t arena_starting_frame = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Track the frame when the arena was created. </p>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00065">65</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a8cc3dc29c94aed014bbd6d02f6a4d259" name="a8cc3dc29c94aed014bbd6d02f6a4d259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc3dc29c94aed014bbd6d02f6a4d259">&#9670;&#160;</a></span>last_auto_attack</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long last_auto_attack = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Track when the player last auto attacked. </p>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00067">67</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a4694ff2f8732268d936e7c077f8c3137" name="a4694ff2f8732268d936e7c077f8c3137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4694ff2f8732268d936e7c077f8c3137">&#9670;&#160;</a></span>last_damage_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long last_damage_time = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Track when we last damaged the player. </p>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00066">66</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a0a4a87685a2e34eba35e97b978de9517" name="a0a4a87685a2e34eba35e97b978de9517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a4a87685a2e34eba35e97b978de9517">&#9670;&#160;</a></span>last_heart_spawn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long last_heart_spawn = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Track when we last spawned a heart. </p>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00069">69</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a8bfb9b316009d3d310d1e710084e726e" name="a8bfb9b316009d3d310d1e710084e726e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bfb9b316009d3d310d1e710084e726e">&#9670;&#160;</a></span>last_ranged_attack</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long last_ranged_attack = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Track when the player last used a ranged attack. </p>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00068">68</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
<a id="a07cff7d1896b2f4e13332f49d06e83e6" name="a07cff7d1896b2f4e13332f49d06e83e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07cff7d1896b2f4e13332f49d06e83e6">&#9670;&#160;</a></span>secret_spawned</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool secret_spawned = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Track if the secret enemy has been spawned. </p>

<p class="definition">Definition at line <a class="el" href="arena__controller_8c_source.html#l00070">70</a> of file <a class="el" href="arena__controller_8c_source.html">arena_controller.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d3bff1ab3a40b4e5d0775c67ace1b0da.html">controller</a></li><li class="navelem"><a class="el" href="arena__controller_8c.html">arena_controller.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
